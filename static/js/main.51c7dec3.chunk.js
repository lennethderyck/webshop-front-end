(this.webpackJsonpwebshop=this.webpackJsonpwebshop||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(42),s=a.n(r),i=a(4),l=a(15),o=(a(77),a(78),a(9)),u=a(8),d=(a(54),a(83),a(3)),j=a.n(d),b=a(5),m="USER_SIGNIN_REQUEST",p="USER_SIGNIN_SUCCESS",O="USER_SIGNIN_FAIL",h="USER_UPDATE_REQUEST",f="USER_UPDATE_SUCCESS",x="USER_UPDATE_FAIL",v="USER_REGISTER_REQUEST",g="USER_REGISTER_SUCCESS",N="USER_REGISTER_FAIL",y="USER_LOGOUT",k="GET_ALL_USERS_REQUEST",w="USER_ADD_USER",S="USER_GET_FAIL",I=a(22),C=function(e,t){return function(){var a=Object(b.a)(j.a.mark((function a(n){var c;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:m,payload:{email:e,password:t}}),a.prev=1,a.next=4,I.c(e,t);case 4:c=a.sent,n({type:p,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),localStorage.setItem("auth_token",c.token),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:O,payload:"The given email and password do not match"});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},E=function(e,t,a){return function(){var n=Object(b.a)(j.a.mark((function n(c){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c({type:v,payload:{name:e,email:t,password:a}}),n.prev=1,n.next=4,I.d(e,t,a);case 4:r=n.sent,c({type:g,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r)),localStorage.setItem("auth_token",r.token),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),a.length<8&&(console.log(a.length),c({type:N,payload:"The password should have more than 8 characters"}));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},_=a(1);function T(e){var t=e.dropdown,a=e.onDarkMode,c=void 0===a?function(e){return e}:a,r=Object(o.b)(),s=Object(n.useState)(!1),l=Object(i.a)(s,2),d=l[0],j=l[1],b=Object(o.c)((function(e){return e.userSignin})).userInfo,m=Object(n.useState)(!0),p=Object(i.a)(m,2),O=p[0],h=p[1];Object(n.useEffect)((function(){localStorage.getItem("userInfo")?b.user.roles.includes("admin")&&j(!0):j(!1)}),[j,b]);var f=Object(n.useCallback)((function(){r((function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("auth_token"),localStorage.removeItem("allUsers"),e({type:y})}))}),[r]),x=Object(n.useCallback)((function(){c(O),h(!O)}),[O,c]);return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("ul",{className:t?O?"menu-dropdown active":"menu-dropdown active dark":"menu-dropdown",children:[Object(_.jsx)("li",{className:O?"dropdown-link-name":"dropdown-link-name dark-link",children:localStorage.getItem("userInfo")?b.user.name.split(" ")[0]:""},"0"),Object(_.jsx)("li",{children:Object(_.jsxs)(u.b,{className:O?"dropdown-link":"dropdown-link dark-link",to:"/myorders",children:[Object(_.jsx)("i",{className:"fas fa-shopping-basket"})," My Orders"]})}),Object(_.jsx)("li",{children:Object(_.jsxs)(u.b,{className:O?"dropdown-link":"dropdown-link dark-link",to:"/settings",children:[Object(_.jsx)("i",{className:"fas fa-cog"})," Settings"]})}),d&&Object(_.jsx)("li",{children:Object(_.jsxs)(u.b,{className:O?"dropdown-link":"dropdown-link dark-link",to:"/admin",children:[Object(_.jsx)("i",{className:"fas fa-key"})," Admin"]})}),Object(_.jsx)("li",{className:"link-darkMode",children:Object(_.jsxs)("div",{className:"tumbler__wrapper",onClick:x,children:[Object(_.jsx)("div",{className:O?"tumbler tumbler-dark":"tumbler"}),Object(_.jsx)("i",{className:"far fa-sun"}),Object(_.jsx)("i",{className:"fas fa-moon"})]})}),Object(_.jsx)("li",{children:Object(_.jsxs)(u.b,{className:O?"dropdown-link":"dropdown-link dark-link",to:"/signIn",onClick:f,children:[Object(_.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})})]})})}function U(e){var t=e.onDarkMode,a=void 0===t?function(e){return e}:t,c=e.theme,r=Object(n.useState)(!1),s=Object(i.a)(r,2),l=s[0],d=s[1],j=Object(o.c)((function(e){return e.cart})).cartItems,b=Object(n.useState)(!1),m=Object(i.a)(b,2),p=m[0],O=m[1],h=Object(o.c)((function(e){return e.userSignin})).userInfo,f=Object(n.useState)(!1),x=Object(i.a)(f,2),v=x[0],g=x[1],N=Object(n.useCallback)((function(){g(!v)}),[g,v]),y=Object(n.useState)(Boolean(localStorage.getItem("auth_token"))),k=Object(i.a)(y,2),w=k[0],S=k[1];Object(n.useEffect)((function(){S(Boolean(localStorage.getItem("auth_token")))}),[w,h]);window.addEventListener("scroll",(function(){window.scrollY>=80?O(!0):O(!1)}));var I=Object(n.useCallback)((function(){d(!l)}),[d,l]);return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("nav",{className:p?"navbar on":"navbar",children:Object(_.jsxs)("div",{className:"nav-container",children:[Object(_.jsx)(u.c,{exact:!0,to:"/",className:c?"nav-logo dark":"nav-logo",children:"No\xeblla"}),Object(_.jsxs)("ul",{className:l?c?"nav-menu active dark":"nav-menu active":"nav-menu",children:[Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsx)(u.c,{exact:!0,to:"/",className:c?"nav-links dark":"nav-links",activeClassName:"item-active",onClick:I,children:"Home"})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsx)(u.c,{exact:!0,to:"/products",activeClassName:"item-active",className:c?"nav-links dark":"nav-links",onClick:I,children:"Paintings"})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsx)(u.c,{exact:!0,to:"/contact",activeClassName:"item-active",className:c?"nav-links dark":"nav-links",onClick:I,children:"Contact Me"})})]}),Object(_.jsx)("div",{className:c?"nav-icon dark":"nav-icon",onClick:I,children:Object(_.jsx)("i",{className:l?"fas fa-times":"fas fa-bars"})}),w&&Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"nav-item-user",onMouseLeave:function(){window.innerWidth,g(!1)},children:[Object(_.jsx)("div",{className:c?"nav-links-user dark":"nav-links-user",onClick:N,onMouseEnter:function(){window.innerWidth<960?g(!1):g(!0)},children:Object(_.jsx)("i",{className:"fas fa-user"})}),Object(_.jsx)(T,{dropdown:v,onDarkMode:a})]})}),w&&Object(_.jsxs)("div",{className:"nav-item-cart",children:[Object(_.jsx)(u.c,{exact:!0,to:"/order",activeClassName:"active",className:c?"nav-links dark":"nav-links",children:Object(_.jsx)("i",{className:"fas fa-shopping-cart"})}),j.length>0&&Object(_.jsx)("span",{className:"badge",children:j.length})]}),!w&&Object(_.jsx)(u.c,{exact:!0,to:"/signIn",activeClassName:"active",className:"nav-SignIn",children:"Sign In"})]})})})}a(105);function P(){return Object(_.jsxs)("footer",{className:"text-center text-lg-start text-muted",children:[Object(_.jsxs)("div",{className:"d-flex extra justify-content-center align-items-center justify-content-lg-center p-4 border-bottom",children:[Object(_.jsx)("div",{className:"me-5 d-none d-lg-block",children:Object(_.jsx)("span",{children:"Get connected with me on social networks:"})}),Object(_.jsx)("div",{className:"ml-4",children:Object(_.jsx)("a",{href:"https://www.instagram.com/noellanechelput/?hl=nl",target:"_blank",className:"btn btn-primary btn-floating m-1 text-reset instagram",role:"button",rel:"noreferrer",children:Object(_.jsx)("i",{className:"fab fa-instagram"})})})]}),Object(_.jsx)("div",{className:"copyright text-center p-4",children:"\xa9 2021 Copyright: No\xeblla Nechelput"})]})}a(106);function F(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:"container-error",children:Object(_.jsx)("h3",{children:"Page Not Found"})})})}var A=a(16),R=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("paintings",{params:{limit:100,offset:0}});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("paintings/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,c,r,s,i,l,o,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.name,c=t.type,r=t.price,s=t.size,i=t.description,l=t.img,e.next=3,Object(A.a)({method:a?"put":"post",url:"paintings/".concat(null!==a&&void 0!==a?a:""),data:{name:n,type:c,price:r,size:s,description:i,img:l}});case 3:return o=e.sent,u=o.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.delete("paintings/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=Object(n.createContext)(),V=function(){return Object(n.useContext)(M)},z=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(i.a)(a,2),r=c[0],s=c[1],l=Object(n.useState)(),o=Object(i.a)(l,2),u=o[0],d=o[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),O=p[0],h=p[1],f=Object(n.useState)({}),x=Object(i.a)(f,2),v=x[0],g=x[1],N=Object(n.useState)([]),y=Object(i.a)(N,2),k=y[0],w=y[1],S=Object(n.useCallback)(function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(),h(!0),e.next=5,L(t);case 5:a=e.sent,w(a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[]),I=Object(n.useCallback)(Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(),h(!0),e.next=5,R();case 5:t=e.sent,s(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[]);Object(n.useEffect)((function(){0===(null===r||void 0===r?void 0:r.length)&&I()}),[r,I]);var C=Object(n.useCallback)(function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,c,r,s,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.name,c=t.type,r=t.price,s=t.size,i=t.description,l=t.img,d(),h(!0),e.prev=3,e.next=6,B({id:a,name:n,type:c,price:r,size:s,description:i,img:l});case 6:return e.next=8,I();case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.t0;case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[I]),E=Object(n.useCallback)(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(),h(!0),e.next=5,D(t);case 5:I(),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[I]),T=Object(n.useCallback)((function(e){g(null===e?{}:r.find((function(t){return t.id===e})))}),[r]),U=Object(n.useMemo)((function(){return{paintings:r,error:u,loading:O,currentPainting:v,painting:k,getPaintingById:S,createOrUpdatePainting:C,deletePainting:E,setPaintingToUpdate:T}}),[r,u,O,v,k,S,C,E,T]);return Object(_.jsx)(M.Provider,{value:U,children:t})},G=(a(107),a(25)),J=a.n(G),Q="CART_ADD_ITEM",Y="CART_REMOVE_ITEM",H="CART_REMOVE_ALL_ITEMS",q=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(a,n){var c,r,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L(e);case 3:c=t.sent,a({type:Q,payload:{id:c.id,name:c.name,type:c.type,img:c.img,price:c.price,inCart:!0}}),r=n(),s=r.cart.cartItems,localStorage.setItem("cartItems",JSON.stringify(s)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},W=function(){return function(e,t){e({type:H});var a=t().cart.cartItems;localStorage.setItem("cartItems",JSON.stringify(a))}};function X(e){var t=Object(l.i)().id,a=V(),c=a.deletePainting,r=a.setPaintingToUpdate,s=a.currentPainting,u=Object(n.useState)([]),d=Object(i.a)(u,2),j=d[0],b=d[1],m=Object(o.b)(),p=Object(o.c)((function(e){return e.cart})).cartItems,O=Object(l.g)(),h=Object(n.useState)(!1),f=Object(i.a)(h,2),x=f[0],v=f[1],g=Object(o.c)((function(e){return e.userSignin})).userInfo;Object(n.useEffect)((function(){localStorage.getItem("userInfo")?g.user.roles.includes("admin")&&v(!0):v(!1)}),[v,g]);var N=Object(n.useCallback)((function(){J.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&(J.a.fire("Deleted!","Your painting has been deleted.","success"),c(t),O.push("/products"))}))}),[c,t,O]);Object(n.useEffect)((function(){r(t)}),[t,r,s]),Object(n.useEffect)((function(){b(p.find((function(e){return e.id===t})))}),[p,t]);return Object(_.jsx)(_.Fragment,{children:s&&Object(_.jsx)("div",{className:"container-details",children:Object(_.jsxs)("div",{className:"row-details",children:[Object(_.jsx)("div",{className:"details-box-details",children:Object(_.jsxs)("div",{className:"details",children:[Object(_.jsx)("h2",{children:"No\xeblla Nechelput"}),Object(_.jsx)("h1",{children:s.name}),Object(_.jsxs)("h5",{children:["Type: ",s.type]}),Object(_.jsxs)("h3",{children:["\u20ac ",s.price]}),Object(_.jsxs)("h4",{children:["Size: ",s.size]}),Object(_.jsx)("p",{children:s.description}),Object(_.jsxs)("div",{className:"buttons",children:[Object(_.jsx)("button",{"data-cy":"addToCart-btn",disabled:!!j,className:"add",onClick:function(){t&&m(q(t))},children:j?"In Cart":"Add To Cart"}),x&&Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("button",{className:"remove mx-2",onClick:N,"data-cy":"deletePainting-btn",children:Object(_.jsx)("i",{className:"fas fa-trash-alt"})})})]})]})}),Object(_.jsx)("div",{className:"img-box-details",children:Object(_.jsx)("img",{src:s.img,alt:"paintings",className:"img-fluid"})})]})})})}a(118);function K(){return Object(_.jsxs)("div",{className:"body-home",id:"top",children:[Object(_.jsx)("div",{className:"line"}),Object(_.jsx)("div",{className:"line1"}),Object(_.jsx)("div",{className:"line2"}),Object(_.jsxs)("div",{className:"header",children:[Object(_.jsxs)("div",{className:"header-text",children:[Object(_.jsxs)("div",{className:"main",children:[Object(_.jsx)("div",{className:"main-text",children:"No\xeblla"}),Object(_.jsx)("ul",{className:"main-option",children:Object(_.jsx)("li",{children:Object(_.jsx)("span",{children:"Nechelput"})})})]}),Object(_.jsx)("h2",{children:'"Art is not what you see, but what you make others see."'}),Object(_.jsx)(u.b,{to:"/products",className:"none my-4",children:Object(_.jsxs)("button",{className:"noselect",children:[Object(_.jsx)("span",{className:"text",children:"Explore more"}),Object(_.jsx)("span",{className:"icon",children:Object(_.jsx)("i",{className:"fas fa-arrow-right"})})]})})]}),Object(_.jsx)("div",{className:"header-svg",children:Object(_.jsx)("img",{src:"../img/PaintBrush.jpg",alt:"Painting"})})]}),Object(_.jsxs)("div",{className:"row1-container",children:[Object(_.jsxs)("div",{className:"box-home box-down cyan",children:[Object(_.jsx)("h2",{children:"Art on Textile"}),Object(_.jsx)("p",{children:"A wide variety of paintings where I paint on textile to make the art come to life"}),Object(_.jsx)("img",{src:"https://assets.codepen.io/2301174/icon-supervisor.svg",alt:""})]}),Object(_.jsxs)("div",{className:"box-home red",children:[Object(_.jsx)("h2",{children:"Art on Fabric"}),Object(_.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni, accusantium!"}),Object(_.jsx)("img",{src:"https://assets.codepen.io/2301174/icon-team-builder.svg",alt:""})]}),Object(_.jsxs)("div",{className:"box-home box-down blue",children:[Object(_.jsx)("h2",{children:"Ceramic"}),Object(_.jsx)("p",{children:"Besides painting I also make ceramic art as a hobby"}),Object(_.jsx)("img",{src:"https://assets.codepen.io/2301174/icon-calculator.svg",alt:""})]})]}),Object(_.jsx)("div",{className:"row2-container",children:Object(_.jsxs)("div",{className:"box-home orange",children:[Object(_.jsx)("h2",{children:"Drip Paint"}),Object(_.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum error, voluptate dolorum reiciendis magnam voluptates!"}),Object(_.jsx)("img",{src:"https://assets.codepen.io/2301174/icon-karma.svg",alt:""})]})})]})}var Z=a(13),$=a(23),ee=(a(119),function(e){var t=e.id,a=e.name,c=e.price,r=e.img,s=Object(o.b)(),l=Object(o.c)((function(e){return e.cart})).cartItems,d=Object(n.useState)([]),j=Object(i.a)(d,2),b=j[0],m=j[1];return Object(n.useEffect)((function(){m(l.find((function(e){return e.id===t})))}),[l,t]),Object(_.jsx)("div",{className:"col-9 mx-auto col-md-6 col-lg-3 my-3 productwrapper",children:Object(_.jsxs)("div",{className:"card","data-cy":"painting",children:[Object(_.jsxs)("div",{className:"img-container p-5",children:[Object(_.jsx)(u.b,{to:"details/".concat(t),children:Object(_.jsx)("img",{src:r,alt:"store",className:"navbar-brand",height:"300px","data-cy":"painting_img"})}),Object(_.jsx)("button",{className:b?"cart-btn-inCart":"cart-btn",disabled:!!b,onClick:function(){t&&s(q(t))},"data-cy":"painting_inCart_btn",children:b?Object(_.jsx)("p",{className:"inCart text-capitalized mb-0",disabled:!0,children:"In Cart"}):Object(_.jsx)("i",{className:"fas fa-cart-plus"})})]}),Object(_.jsxs)("div",{className:"card-footer d-flex justify-content-between",children:[Object(_.jsx)("p",{"data-cy":"painting_name",className:"align-self-center mb-0 desc",children:a}),Object(_.jsxs)("h5",{"data-cy":"painting_price",className:"text-blue font-italic mb-0",children:[Object(_.jsx)("span",{className:"mr-1",children:"\u20ac"}),c]})]})]})})});function te(e){var t=e.paintings;return Object(_.jsx)(c.a.Fragment,{children:Object(_.jsx)("div",{className:"py-5",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsx)("div",{className:"row",children:t.map((function(e){return Object(_.jsx)(ee,Object(Z.a)({},e),e.id)}))})})})})}a(120);var ae=[{type:"All items"},{type:"Textile"},{type:"Canvas"}];function ne(){var e=V(),t=e.paintings,a=e.loading,c=ae.map((function(e){return e.type})),r=Object(n.useState)([]),s=Object(i.a)(r,2),l=s[0],o=s[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),j=d[0],b=d[1],m=Object(n.useCallback)((function(e){b(!1),"Textile"===e.target.value||"Canvas"===e.target.value?(b(!0),o(t.filter((function(t){return t.type===e.target.value})))):"All Items"===e.target.value&&(b(!1),o(t))}),[t,b]),p=function(e){var t=e.label,a=e.options,n=(e.validation,Object($.a)(e,["label","options","validation"]));return a.sort(),Object(_.jsx)("div",{className:"col-span-6 sm:col-span-3",children:Object(_.jsxs)("select",Object(Z.a)(Object(Z.a)({},n),{},{id:t.toLowerCase(),name:t,onChange:m,children:[Object(_.jsx)("option",{value:"",children:"-- Filter on Type --"}),a.map((function(e,t){return Object(_.jsx)("option",{value:e,children:e},t)}))]}))})};return a?Object(_.jsx)("div",{className:"container",children:Object(_.jsx)("div",{className:"col-10 mx-auto my-2 text-center text-title",children:Object(_.jsx)("h1",{className:"text-capitalize font-weight-bold title my-4","data-cy":"loading",children:"Loading..."})})}):Object(_.jsxs)("div",{className:"container",children:[Object(_.jsxs)("div",{className:"box",children:[Object(_.jsx)("div",{className:"col-10 mx-auto my-2 text-center text-title",children:Object(_.jsxs)("h1",{className:"text-capitalize font-weight-bold title my-4",children:["My ",Object(_.jsx)("strong",{className:"text-blue",children:"Paintings"})]})}),Object(_.jsx)("div",{className:"label",children:Object(_.jsx)(p,{className:"create-input",label:"Type",options:c})})]}),Object(_.jsx)(te,{paintings:j?l:t})]})}a(50);var ce=a(68),re=a(36),se=a(43),ie=a.n(se),le=a(31),oe=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("orders",{params:{limit:100,offset:0}});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("orders/mine/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,c,r,s,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.paintings,c=t.total,r=t.user_id,s=t.date,e.next=3,Object(A.a)({method:a?"put":"post",url:"orders/".concat(null!==a&&void 0!==a?a:""),data:{paintings:n,total:c,user_id:r,date:s}});case 3:return i=e.sent,l=i.data,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=Object(n.createContext)(),be=function(){return Object(n.useContext)(je)},me=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(i.a)(a,2),r=c[0],s=c[1],l=Object(n.useState)(),o=Object(i.a)(l,2),u=o[0],d=o[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),O=p[0],h=p[1],f=Object(n.useState)({}),x=Object(i.a)(f,2),v=x[0],g=x[1],N=Object(n.useCallback)(Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(),h(!0),e.next=5,oe();case 5:t=e.sent,s(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[]),y=Object(n.useCallback)(function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(),h(!0),e.next=5,ue(t);case 5:return a=e.sent,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),d(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)((function(){0===(null===r||void 0===r?void 0:r.length)&&N()}),[r,N]);var k=Object(n.useCallback)(function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,c,r,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.paintings,c=t.total,r=t.user_id,d(),h(!0),s=new Date,e.prev=4,e.next=7,de({id:a,paintings:n,total:c,user_id:r,date:s});case 7:return i=e.sent,e.next=10,N();case 10:return e.abrupt("return",i);case 13:throw e.prev=13,e.t0=e.catch(4),console.log(e.t0),e.t0;case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,13,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[N]),w=Object(n.useCallback)(function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(),h(!0),e.next=5,ie()({method:"delete",url:"".concat(le.base_url,"paintings/").concat(t)});case 5:return a=e.sent,n=a.data,N(),e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.t0;case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})));return function(t){return e.apply(this,arguments)}}(),[N]),S=Object(n.useCallback)((function(e){g(null===e?{}:r.find((function(t){return t.id===e})))}),[r]),I=Object(n.useMemo)((function(){return{orders:r,error:u,loading:O,currentOrder:v,myOrders:y,createOrUpdateOrder:k,deleteOrder:w,setOrderToUpdate:S}}),[r,u,O,v,y,k,w,S]);return Object(_.jsx)(je.Provider,{value:I,children:t})},pe=function(){var e=be().createOrUpdateOrder,t=Object(o.c)((function(e){return e.cart})),a=t.cartItems,c=t.loading,r=Object(o.c)((function(e){return e.userSignin})).userInfo,s=Object(o.b)(),u=Object(n.useState)(0),d=Object(i.a)(u,2),m=d[0],p=d[1],O=Object(l.g)();Object(n.useEffect)((function(){var e=a.map((function(e){return e.price})).reduce((function(e,t){return e+=parseFloat(t)}),0);p(e)}),[a,p]);var h=Object(n.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(W());case 1:case"end":return e.stop()}}),e)}))),[s]),f=Object(n.useCallback)((function(e){var t,n=a[e].id;s((t=n,function(e,a){e({type:Y,payload:t});var n=a().cart.cartItems;localStorage.setItem("cartItems",JSON.stringify(n))}))}),[s,a]),x=Object(n.useCallback)(Object(b.a)(j.a.mark((function t(){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a,c=r.user.id,0===n.length){t.next=7;break}return t.next=5,e({paintings:n,user_id:c,total:m});case 5:s(W()),O.push("/myorders");case 7:case"end":return t.stop()}}),t)}))),[a,e,m,r,O,s]);return c?Object(_.jsx)("div",{className:"container",children:Object(_.jsx)("div",{className:"col-10 mx-auto my-2 text-center text-title",children:Object(_.jsx)("h1",{className:"text-capitalize font-weight-bold title my-4","data-cy":"loading",children:"Loading..."})})}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:"container-table",children:Object(_.jsxs)("ul",{className:"responsive-table",children:[Object(_.jsxs)("div",{className:"total-and-btn",children:[Object(_.jsxs)("div",{className:"amount",children:["Total: \u20ac ",m]}),Object(_.jsxs)("button",{onClick:h,className:"clear-btn-order",children:["Remove All ",Object(_.jsx)(ce.a,{color:"#fff"})]})]}),Object(_.jsxs)("li",{className:"table-header",children:[Object(_.jsx)("div",{className:"col col-1",children:"Product Name"}),Object(_.jsx)("div",{className:"col col-2",children:"Image"}),Object(_.jsx)("div",{className:"col col-3",children:"Type"}),Object(_.jsx)("div",{className:"col col-4",children:"Price"})]}),a.map((function(e,t){return Object(_.jsxs)("li",{className:"container-order-items",children:[Object(_.jsx)("div",{className:"col col-1","data-label":"Product Name",children:e.name}),Object(_.jsx)("div",{className:"col col-2","data-label":"Image",children:Object(_.jsx)("img",{src:e.img,alt:"paintings",className:"img-fluid"})}),Object(_.jsx)("div",{className:"col col-3","data-label":"Type",children:e.type}),Object(_.jsx)("div",{className:"col col-4","data-label":"Price",children:e.price}),Object(_.jsx)("div",{className:"col col-5","data-label":"Delete",children:Object(_.jsx)("button",{className:"remove",onClick:function(){return f(t)},children:Object(_.jsx)("i",{className:"fas fa-trash-alt"})})})]},e.id)})),Object(_.jsxs)("button",{onClick:x,className:"checkout-btn","data-cy":"checkout-btn",children:["Checkout ",Object(_.jsx)(re.a,{color:"#fff"})]})]})})})};function Oe(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:"container-one",children:Object(_.jsxs)("div",{className:"container-order",children:[Object(_.jsx)("div",{className:"title-order",children:Object(_.jsx)("h1",{children:"Cart"})}),Object(_.jsx)(pe,{})]})})})}var he=a(37),fe=[{title:"Dashboard",path:"/admin",icon:Object(_.jsx)(re.c,{color:"#141414"}),cName:"side-text"},{title:"Users",path:"/users",icon:Object(_.jsx)(he.c,{color:"#141414"}),cName:"side-text"},{title:"Add Painting",path:"/addPaintingForm",icon:Object(_.jsx)(re.b,{color:"#141414"}),cName:"side-text"},{title:"Products",path:"/productsAdmin",icon:Object(_.jsx)(he.b,{color:"#141414"}),cName:"side-text"}],xe=(a(121),a(0));var ve=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(i.a)(r,2),l=s[0],o=s[1],d=Object(n.useCallback)((function(){o(!l)}),[l,o]);return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(xe.b.Provider,{value:{color:"#fff"},children:Object(_.jsx)("nav",{className:"side-menu",children:Object(_.jsx)("ul",{className:"side-menu-items",onClick:function(){return c(!a)},children:fe.map((function(e,t){return Object(_.jsx)("li",{className:e.cName,onClick:d,children:Object(_.jsxs)(u.b,{to:e.path,children:[e.icon,Object(_.jsx)("span",{children:e.title})]})},t)}))})})})})};a(65);function ge(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ve,{}),Object(_.jsx)("div",{className:"box-admin-pages",children:Object(_.jsx)("h2",{children:"Admin Dashboard"})})]})}a(122);var Ne=a(20),ye=function(e){var t=e.label,a=e.type,n=e.defaultValue,c=e.validation,r=Object($.a)(e,["label","type","defaultValue","validation"]),s=Object(Ne.c)(),i=s.register,l=s.formState.errors;return Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{htmlFor:t,children:t}),Object(_.jsx)("input",Object(Z.a)(Object(Z.a)({},i(t,c)),{},{defaultValue:n,placeholder:t,type:a,id:t.toLowerCase(),name:t,className:"form-control"},r)),l[t]&&Object(_.jsx)("small",{className:"form-text text-danger",children:l[t].message})]})},ke={required:"This field is required!"};function we(e){var t=Object(o.b)(),a=Object(o.c)((function(e){return e.userSignin})),c=a.error,r=a.userInfo,s=a.loading,u=Object(l.g)(),d=Object(n.useState)(!1),m=Object(i.a)(d,2),p=m[0],O=m[1];Object(n.useEffect)((function(){localStorage.getItem("auth_token")&&u.replace("/")}),[u,r]);var h=Object(Ne.b)(),f=h.handleSubmit,x=h.reset,v=Object(n.useCallback)(function(){var e=Object(b.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log(a),t(C(a.email,a.password)),x()}catch(c){console.error(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x,t]),g=Object(n.useCallback)(function(){var e=Object(b.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(E(a.name,a.email,a.password)),x()}catch(c){console.error(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x,t]);return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:"overall",children:Object(_.jsxs)("div",{className:"container-signUp",id:"container",children:[Object(_.jsx)("div",{className:"form-container sign-up-container",id:"sign-up-container",children:p&&Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(Ne.a,Object(Z.a)(Object(Z.a)({},h),{},{children:Object(_.jsxs)("form",{className:"signIn-form",onSubmit:f(g),children:[Object(_.jsx)("h1",{className:"h1-signIn mb-3",children:"Create Account"}),Object(_.jsx)(ye,{className:"form-signIn-input",label:"name",type:"text",defaultValue:"",validation:ke}),Object(_.jsx)(ye,{className:"form-signIn-input",label:"email",type:"email",defaultValue:"",validation:ke}),Object(_.jsx)(ye,{className:"form-signIn-input",label:"password",type:"password",defaultValue:"",validation:ke}),c&&Object(_.jsx)("div",{className:"form-error",children:c}),Object(_.jsx)("button",{type:"submit",className:"signUp-btn",children:"Sign Up"}),Object(_.jsx)("p",{className:"registerHere",onClick:function(){var e=document.getElementById("sign-in-container"),t=document.getElementById("sign-up-container");e.style.display="block",t.style.display="none",O(!1)},children:"Already have an account?"})]})}))})}),Object(_.jsx)("div",{className:"form-container sign-in-container",id:"sign-in-container",children:!p&&Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(Ne.a,Object(Z.a)(Object(Z.a)({},h),{},{children:Object(_.jsxs)("form",{className:"signIn-form",onSubmit:f(v),children:[Object(_.jsx)("h1",{className:"h1-signIn mb-3",children:"Sign in"}),Object(_.jsx)(ye,{className:"form-signIn-input",label:"email",type:"email",defaultValue:"",validation:ke,"data-cy":"email_input"}),Object(_.jsx)(ye,{className:"form-signIn-input",label:"password",type:"password",defaultValue:"",validation:ke,"data-cy":"password_input"}),c&&Object(_.jsx)("div",{className:"form-error",children:c}),Object(_.jsx)("p",{children:"Forgot your password?"}),Object(_.jsx)("button",{"data-cy":"login_btn",type:"submit",className:"signUp-btn",disabled:s,children:"Sign In"}),Object(_.jsx)("p",{className:"registerHere",onClick:function(){var e=document.getElementById("sign-in-container"),t=document.getElementById("sign-up-container");e.style.display="none",t.style.display="block",O(!0)},children:"Register here!"})]})}))})}),Object(_.jsx)("div",{className:"overlay-container",children:Object(_.jsxs)("div",{className:"overlay",children:[Object(_.jsxs)("div",{className:"overlay-panel overlay-left",children:[Object(_.jsx)("h1",{className:"h1-signIn",children:"Welcome Back!"}),Object(_.jsx)("p",{className:"p-signIn",children:"To keep connected with us please login with your personal info"}),Object(_.jsx)("button",{className:"signUp-btn ghost",id:"signIn",onClick:function(){document.getElementById("container").classList.remove("right-panel-active"),console.log(p),O(!p)},children:"Sign In"})]}),Object(_.jsxs)("div",{className:"overlay-panel overlay-right",children:[Object(_.jsx)("h1",{className:"h1-signIn",children:"Hello, Friend!"}),Object(_.jsx)("p",{className:"p-signIn",children:"Enter your personal details and start journey with us"}),Object(_.jsx)("button",{className:"signUp-btn ghost",id:"signUp",onClick:function(){document.getElementById("container").classList.add("right-panel-active"),console.log(p),O(!p)},children:"Sign Up"})]})]})})]})})})}a(123);var Se=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1];return window.addEventListener("scroll",(function(){var e=document.documentElement.scrollTop;e>100?c(!0):e<=100&&c(!1)})),Object(_.jsx)("button",{className:"toTop",children:Object(_.jsx)(he.a,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},style:{display:a?"inline":"none"}})})};function Ie(e){var t=e.children,a=e.role,c=Object($.a)(e,["children","role"]),r=Object(l.h)().pathname,s=Object(o.c)((function(e){return e.userSignin})).userInfo,i=Object(n.useMemo)((function(){return!!a&&(!!s.user&&s.user.roles.includes(a))}),[a,s]);return Object(_.jsx)(l.b,Object(Z.a)(Object(Z.a)({},c),{},{children:i?t:Object(_.jsx)(l.a,{from:r,to:"/signIn"})}))}var Ce=function(){var e=be(),t=e.myOrders,a=e.loading,c=Object(o.c)((function(e){return e.userSignin})).userInfo,r=Object(n.useState)([]),s=Object(i.a)(r,2),l=s[0],u=s[1],d=Object(n.useState)(!1),m=Object(i.a)(d,2),p=m[0],O=m[1],h=Object(n.useCallback)(Object(b.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(c.user.id);case 2:a=e.sent,u(a),O(!0);case 5:case"end":return e.stop()}}),e)}))),[c,t]);return Object(n.useEffect)((function(){h()}),[h]),a?Object(_.jsx)("div",{className:"container",children:Object(_.jsx)("div",{className:"col-10 mx-auto my-2 text-center text-title",children:Object(_.jsx)("h1",{className:"text-capitalize font-weight-bold title my-4","data-cy":"loading",children:"Loading..."})})}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:"container-table",children:Object(_.jsxs)("ul",{className:"responsive-table",children:[Object(_.jsxs)("li",{className:"table-header",children:[Object(_.jsx)("div",{className:"col col-1",children:"Nr."}),Object(_.jsx)("div",{className:"col col-2",children:"Order Date"}),Object(_.jsx)("div",{className:"col col-3",children:"Amount"}),Object(_.jsx)("div",{className:"col col-4",children:"Price"})]}),p&&l.order.map((function(e,t){return Object(_.jsxs)("li",{className:"container-order-items",children:[Object(_.jsx)("div",{className:"col col-1","data-label":"Nr",children:t+1}),Object(_.jsx)("div",{className:"col col-2","data-label":"Date",children:e.date.slice(0,10)}),Object(_.jsx)("div",{className:"col col-3","data-label":"Amount",children:e.paintings.length}),Object(_.jsx)("div",{className:"col col-4","data-label":"Price",children:"\u20ac ".concat(e.total)})]},e.id)}))]})})})};function Ee(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"orders-box",children:[Object(_.jsx)("div",{className:"myOrder-titel",children:Object(_.jsx)("h1",{children:"My Orders"})}),Object(_.jsx)(Ce,{})]})})}var _e=Object(l.j)((function(e){var t=e.history,a=e.children;return Object(n.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[t]),Object(_.jsx)(n.Fragment,{children:a})}));a(124);function Te(){var e=V().paintings;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ve,{}),Object(_.jsx)("div",{className:"box-admin-pages",children:Object(_.jsxs)("div",{className:"container-table-painting",children:[Object(_.jsx)("h2",{className:"mb-4",children:"All Products"}),Object(_.jsxs)("ul",{className:"responsive-table-painting",children:[Object(_.jsxs)("li",{className:"table-header",children:[Object(_.jsx)("div",{className:"col col-1",children:"Nr."}),Object(_.jsx)("div",{className:"col col-2",children:"Name"}),Object(_.jsx)("div",{className:"col col-3",children:"Image"}),Object(_.jsx)("div",{className:"col col-4",children:"Type"}),Object(_.jsx)("div",{className:"col col-5",children:"Price"})]}),e&&e.map((function(e,t){return Object(_.jsxs)("li",{className:"container-order-items",children:[Object(_.jsx)("div",{className:"col col-1","data-label":"Nr",children:t+1}),Object(_.jsx)("div",{className:"col col-2","data-label":"Name",children:e.name}),Object(_.jsx)("div",{className:"col col-3","data-label":"Image",children:Object(_.jsx)("img",{src:e.img,alt:""})}),Object(_.jsx)("div",{className:"col col-4","data-label":"Type",children:e.type}),Object(_.jsx)("div",{className:"col col-5","data-label":"Price",children:"\u20ac ".concat(e.price)}),Object(_.jsx)("div",{className:"col col-6","data-label":"",children:Object(_.jsx)(u.b,{className:"edit",to:"/addPaintingForm/".concat(e.id),"data-cy":"editPainting-btn",children:Object(_.jsx)("i",{className:"fas fa-pencil-alt"})})})]},e.id)}))]})]})})]})}a(125);var Ue=a(69),Pe=a(70),Fe=Object(Ue.a)({apiKey:"AIzaSyDoFaY2elGyQuTnvIBrbeU8uuhInw9vJC0",authDomain:"webshop-noella.firebaseapp.com",projectId:"webshop-noella",storageBucket:"webshop-noella.appspot.com",messagingSenderId:"1094746890655",appId:"1:1094746890655:web:128b56c9b026b5f172ddaa",measurementId:"G-MCTGQYXD8E"}),Ae=Object(Pe.a)(Fe),Re=a(33),Le=function(e){var t=e.label,a=e.options,n=e.validation,c=Object($.a)(e,["label","options","validation"]);a.sort();var r=Object(Ne.c)(),s=r.register,i=r.formState.errors;return Object(_.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(_.jsx)("label",{htmlFor:t,children:t}),Object(_.jsxs)("select",Object(Z.a)(Object(Z.a)(Object(Z.a)({},s(t,n)),c),{},{id:t,name:t,children:[Object(_.jsxs)("option",{value:"",children:["--choose a ",t,"--"]}),a.map((function(e,t){return Object(_.jsx)("option",{value:e,children:e},t)}))]})),i[t]&&Object(_.jsx)("p",{className:"text-red-500",children:i[t].message})]})},Be={required:"This field is required!"};function De(){var e=ae.map((function(e){return e.type})),t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)({}),o=Object(i.a)(s,2),u=o[0],d=o[1],m=Object(n.useState)(0),p=Object(i.a)(m,2),O=p[0],h=p[1],f=Object(l.h)(),x=Object(l.g)(),v=Object(Ne.b)(),g=v.handleSubmit,N=v.reset,y=v.setValue,k=V(),w=k.currentPainting,S=k.setPaintingToUpdate,I=k.createOrUpdatePainting,C=J.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",J.a.stopTimer),e.addEventListener("mouseleave",J.a.resumeTimer)}});Object(n.useEffect)((function(){if(!w||0===Object.keys(w).length&&w.constructor===Object)N();else{y("name",w.name),y("type",w.type),y("price",w.price),y("description",w.description);var e=w.size.split("x");y("width",e[0]),y("height",e[0])}}),[w,y,N]),Object(n.useEffect)((function(){var e=f.pathname.split("/")[2];S(e)}),[S,f]);var E=Object(n.useCallback)(function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d(t),null===w||void 0===w?void 0:w.id){e.next=8;break}return a=t.img[0],e.next=6,T(a);case 6:e.next=9;break;case 8:r(w.img);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),[w]);Object(n.useEffect)((function(){c&&(I({id:null===w||void 0===w?void 0:w.id,name:u.name,type:u.type,price:u.price,size:u.width+"W x "+u.height+"H",description:u.description,img:c}),S(null),x.push("/products"),(null===w||void 0===w?void 0:w.id)?C.fire({icon:"success",title:"Painting updated!"}):C.fire({icon:"success",title:"Painting added to products!"}))}),[c,C,I,w,u,x,S]);var T=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:console.log("Begin uploadFile"),a=Object(Re.c)(Ae,"/files/".concat(t.name)),(n=Object(Re.d)(a,t)).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);h(t)}),(function(e){return console.log(e)}),(function(){Object(Re.a)(n.snapshot.ref).then((function(e){return r(e)}))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ve,{}),Object(_.jsx)("div",{className:"box-admin-pages",children:Object(_.jsxs)("div",{className:"create",children:[Object(_.jsx)("h2",{children:(null===w||void 0===w?void 0:w.id)?"Change Painting":"Add a Painting"}),0!==O&&Object(_.jsx)("progress",{value:O,max:"100"}),0===O&&Object(_.jsx)(Ne.a,Object(Z.a)(Object(Z.a)({},v),{},{children:Object(_.jsxs)("form",{className:"form-inline formText",onSubmit:g(E),children:[Object(_.jsx)(ye,{className:"create-input",label:"name",type:"text",defaultValue:"",validation:Be,"data-cy":"name_input"}),Object(_.jsx)(Le,{className:"create-input",label:"type",options:e,validation:Be,"data-cy":"type_select"}),Object(_.jsx)(ye,{className:"create-input",label:"price",type:"text",defaultValue:"",validation:Be,"data-cy":"price_input"}),Object(_.jsx)(ye,{className:"create-input",label:"width",type:"text",defaultValue:"",validation:Be,"data-cy":"width_input"}),Object(_.jsx)(ye,{className:"create-input",label:"height",type:"text",defaultValue:"",validation:Be,"data-cy":"height_input"}),Object(_.jsx)(ye,{className:"create-input",label:"description",type:"text",defaultValue:"",validation:Be,"data-cy":"description_input"}),(null===w||void 0===w?void 0:w.id)?"":Object(_.jsx)(ye,{className:"create-input",label:"img",type:"file",defaultValue:"",validation:Be,"data-cy":"img_input"}),Object(_.jsxs)("button",{type:"submit","data-cy":"submit_painting",children:[" ",(null===w||void 0===w?void 0:w.id)?"Save Painting":"Add Painting"]})]})}))]})})]})}a(126);var Me=a(45);function Ve(){var e=Object(Me.b)().users;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ve,{}),Object(_.jsx)("div",{className:"box-admin-pages",children:Object(_.jsxs)("div",{className:"container-table-users",children:[Object(_.jsx)("h2",{children:"All Users"}),Object(_.jsxs)("ul",{className:"responsive-table-users",children:[Object(_.jsxs)("li",{className:"table-header",children:[Object(_.jsx)("div",{className:"col col-1",children:"User name"}),Object(_.jsx)("div",{className:"col col-2",children:"E-mail"}),Object(_.jsx)("div",{className:"col col-3",children:"Roles"})]}),e&&e.map((function(e){return Object(_.jsxs)("li",{className:"container-order-items",children:[Object(_.jsx)("div",{className:"col col-1","data-label":"User name",children:e.name}),Object(_.jsx)("div",{className:"col col-2","data-label":"Email",children:e.email}),Object(_.jsx)("div",{className:"col col-3","data-label":"Roles",children:e.roles.map((function(t,a){return Object(_.jsx)("p",{children:t},e.id+a)}))})]},e.id)}))]})]})})]})}var ze=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useCallback)((function(e){r(e)}),[]);return console.log(a),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:a?"body-app darkMode":"body-app",children:Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(U,{onDarkMode:s,theme:a}),Object(_.jsx)(_e,{children:Object(_.jsxs)(l.d,{children:[Object(_.jsx)(l.b,{exact:!0,path:"/",children:Object(_.jsx)(K,{})}),Object(_.jsx)(l.b,{path:"/products",children:Object(_.jsx)(ne,{})}),Object(_.jsx)(l.b,{path:"/signIn",children:Object(_.jsx)(we,{})}),Object(_.jsx)(l.b,{path:"/cart/:id?",children:Object(_.jsx)(X,{})}),Object(_.jsx)(Ie,{path:"/order",role:"user",children:Object(_.jsx)(Oe,{})}),Object(_.jsx)(Ie,{path:"/myorders",role:"user",children:Object(_.jsx)(Ee,{})}),Object(_.jsx)(l.b,{path:"/details/:id",children:Object(_.jsx)(X,{})}),Object(_.jsx)(l.b,{path:"/details",children:Object(_.jsx)(X,{})}),Object(_.jsx)(Ie,{path:"/admin/:name",role:"admin",children:Object(_.jsx)(ge,{})}),Object(_.jsx)(Ie,{path:"/admin",role:"admin",children:Object(_.jsx)(ge,{})}),Object(_.jsx)(Ie,{path:"/users",role:"admin",children:Object(_.jsx)(Ve,{})}),Object(_.jsx)(Ie,{path:"/productsAdmin",role:"admin",children:Object(_.jsx)(Te,{})}),Object(_.jsx)(Ie,{path:"/addPaintingForm/:id",role:"admin",children:Object(_.jsx)(De,{})}),Object(_.jsx)(Ie,{path:"/addPaintingForm",role:"admin",children:Object(_.jsx)(De,{})}),Object(_.jsx)(l.b,{component:F})]})}),Object(_.jsx)(Se,{}),Object(_.jsx)(P,{})]})})})},Ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,132)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},Je=a(39),Qe=a(71),Ye=a(14);var He={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shipping:{},payment:{}},userSignin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):[]},users:{allUsers:localStorage.getItem("allUsers")?JSON.parse(localStorage.getItem("allUsers")):[]}},qe=Object(Je.b)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shipping:{},payment:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:var a=t.payload,n=e.cartItems.find((function(e){return e.id===a.id}));return n?{cartItems:e.cartItems.map((function(e){return e.id===n.id?a:e}))}:{cartItems:[].concat(Object(Ye.a)(e.cartItems),[a])};case Y:return{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload}))};case H:return{cartItems:e.cartItems=[]};default:return e}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0};case p:return{loading:!1,userInfo:t.payload};case O:return{loading:!1,error:t.payload};case y:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{loading:!0};case g:return{loading:!1,userInfo:t.payload};case N:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{loading:!0};case f:return{loading:!1,userInfo:t.payload};case x:return{loading:!1,error:t.payload};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case w:return{loading:!1,allUsers:t.payload};case S:return{loading:!1,error:t.payload};default:return e}}}),We=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Je.c,Xe=Object(Je.d)(qe,He,We(Object(Je.a)(Qe.a)));s.a.render(Object(_.jsx)(o.a,{store:Xe,children:Object(_.jsx)(Me.a,{children:Object(_.jsx)(z,{children:Object(_.jsx)(me,{children:Object(_.jsx)(u.a,{children:Object(_.jsx)(ze,{})})})})})}),document.getElementById("root")),Ge()},16:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i}));var n=a(43),c=a.n(n),r=a(31),s=c.a.create({baseURL:"https://lennethdr-webshop.herokuapp.com/api/",headers:{Authorization:"Bearer ".concat(localStorage.getItem(r.token_key))}}),i=function(e){e?s.defaults.headers.Authorization="Bearer ".concat(e):delete s.defaults.headers.Authorization}},22:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return u}));var n=a(3),c=a.n(n),r=a(5),s=a(16),i=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("users/login",{email:t,password:a});case 2:return n=e.sent,r=n.data,console.log(r.message),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(c.a.mark((function e(t,a,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("users/register",{name:t,email:a,password:n});case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("users/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("users");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},31:function(e){e.exports=JSON.parse('{"base_url":"http://localhost:9000/api/","token_key":"auth_token"}')},45:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return O})),a.d(t,"a",(function(){return h}));var n=a(3),c=a.n(n),r=a(5),s=a(4),i=a(2),l=a(22),o=a(16),u=a(31),d=a(1),j=u.token_key,b=Object(i.createContext)();function m(t){if(!t)return{};var a=t.split(".")[1],n=e.from(a,"base64").toString("ascii");return JSON.parse(n)}function p(e){return e?("number"!==typeof e&&(e=Number(e)),isNaN(e)?null:new Date(1e3*e)):null}var O=function(){return Object(i.useContext)(b)},h=function(e){var t=e.children,a=Object(i.useState)(!1),n=Object(s.a)(a,2),u=n[0],O=n[1],h=Object(i.useState)(!1),f=Object(s.a)(h,2),x=f[0],v=f[1],g=Object(i.useState)(""),N=Object(s.a)(g,2),y=N[0],k=N[1],w=Object(i.useState)(localStorage.getItem(j)),S=Object(s.a)(w,2),I=S[0],C=S[1],E=Object(i.useState)(null),_=Object(s.a)(E,2),T=_[0],U=_[1],P=Object(i.useState)([]),F=Object(s.a)(P,2),A=F[0],R=F[1],L=Object(i.useCallback)(Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(),v(!0),e.next=5,l.a();case 5:t=e.sent,console.log(t),R(t.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),k(e.t0);case 13:return e.prev=13,v(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])}))),[]);Object(i.useEffect)((function(){0===(null===A||void 0===A?void 0:A.length)&&L()}),[A,L]);var B=Object(i.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n,r,s,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m(t),r=n.exp,s=n.userId,i=p(r),(u=i>=new Date)?localStorage.setItem(j,t):(localStorage.removeItem(j),localStorage.removeItem("userInfo"),localStorage.removeItem("allUsers"),t=null),o.b(t),C(t),O(t&&u),a||!u){e.next=11;break}return e.next=10,l.b(s);case 10:a=e.sent;case 11:U(a);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[]);Object(i.useEffect)((function(){B(I)}),[I,B]);var D=Object(i.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),k(null),e.next=5,l.c(t,a);case 5:return n=e.sent,r=n.token,s=n.user,e.next=10,B(r,s);case 10:return e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),k("Login failed, try again"),e.abrupt("return",!1);case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,13,18,21]])})));return function(t,a){return e.apply(this,arguments)}}(),[B]),M=Object(i.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),k(null),e.next=5,l.d(t);case 5:return a=e.sent,n=a.token,r=a.user,e.next=10,B(n,r);case 10:return e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),k(e.t0),e.abrupt("return",!1);case 17:return e.prev=17,v(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[B]),V=Object(i.useCallback)((function(){B(null,null)}),[B]),z=Object(i.useCallback)((function(e){return!!T&&T.roles.includes(e)}),[T]),G=Object(i.useMemo)((function(){return{token:I,user:T,ready:u,loading:x,error:y,users:A,login:D,logout:V,register:M,hasRole:z}}),[I,T,u,x,y,A,D,V,M,z]);return Object(d.jsx)(b.Provider,{value:G,children:t})}}).call(this,a(127).Buffer)},50:function(e,t,a){},54:function(e,t,a){},65:function(e,t,a){},78:function(e,t,a){},83:function(e,t,a){}},[[131,1,2]]]);
//# sourceMappingURL=main.51c7dec3.chunk.js.map